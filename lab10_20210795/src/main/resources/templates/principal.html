<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronómetro de Actividades</title>
    <style>
        .rojo {
            color: #8f2727;
        }
        .amarillo {
            color: #b6b604;
        }
        .verde {
            color: #208d20;
        }
    </style>
</head>
<body>
<h1>Cronómetro de Actividades</h1>
<button id="AgregarTareas" onclick="mostrarFormulario()">Agregar Tarea</button>

<div id="ContenedorFormulario" style="display: none;">
    <form id="FormularioTarea" onsubmit="return validarFormulario()">
        <label for="NombreTarea">Nombre de la tarea:</label>
        <input type="text" id="NombreTarea" maxlength="100" required><br>

        <label for="IntervaloTiempo">Tiempo por intervalo (en horas):</label>
        <input type="number" id="IntervaloTiempo" min="1" required><br>

        <label for="CantidadIntervalos">Cantidad de intervalos:</label>
        <input type="number" id="CantidadIntervalos" min="1" required><br>

        <button type="submit">Guardar</button>
        <button type="button" onclick="ocultarFormulario()">Cancelar</button>
    </form>
</div>

<h2>Tareas Pendientes</h2>
<ul id="TareasPendientez"></ul>

<h2>
    <span id="ListaFinalizadas">▼</span> Tareas Finalizadas
</h2>
<ul id="TareasFinalizadas" style="display: none;"></ul>

<script>
    function mostrarFormulario() {
        document.getElementById('ContenedorFormulario').style.display = 'block';
    }
    function ocultarFormulario() {
        document.getElementById('ContenedorFormulario').style.display = 'none';
    }

    // Función para validar el formulario antes de enviarlo
    function validarFormulario() {
        const nombreTarea = document.getElementById('NombreTarea').value;
        const intervaloTiempo = document.getElementById('IntervaloTiempo').value;
        const cantidadIntervalos = document.getElementById('CantidadIntervalos').value;
        let mensajeError = "";

        // No tiene que tener más de 100 caracteres
        if (nombreTarea.length > 100) {
            mensajeError += "El nombre de la tarea no puede tener más de 100 caracteres.\n";
        }

        // El tiempo de intervalo debe ser mayor a 0 horas
        if (intervaloTiempo <= 0) {
            mensajeError += "El tiempo del intervalo debe ser mayor que 0 horas.\n";
        }

        // La cantidad de intervalos debe ser un número válido mayor que 0, tiene q ser un numero sí o sí isNot-at-Number
        if (cantidadIntervalos <= 0 || isNaN(cantidadIntervalos)) {
            mensajeError += "La cantidad de intervalos debe ser un valor numérico mayor que 0.\n";
        }

        // Mostrar el error
        if (mensajeError) {
            alert(mensajeError);
            return false;
        }

        // Se agrega la tarea a la lista de pendientes si no hay errores (si pasa el return false)
        // Se creara un elemento y no solo innerHTML x si se necesita manipular sus valores
        const li = document.createElement('li');
        li.textContent = `Tarea: ${nombreTarea} - Intervalo: ${intervaloTiempo} horas - ${cantidadIntervalos} intervalos`;

        // Agregando a donde se debe o sea tareas pendietnezzzz
        const TareasPendientez = document.getElementById('TareasPendientez');
        TareasPendientez.appendChild(li); // agrego el <li></li>

        // Se limpiara el formulario para una nueva tarea cuando se vuelva a colocar para ver, se resetea los campos
        document.getElementById('FormularioTarea').reset();
        ocultarFormulario();

        return false;  // Impide que el formulario se envíe (aunque no es necesario si se maneja con JavaScript)
    }

</script>
</body>
</html>